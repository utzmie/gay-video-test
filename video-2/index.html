<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ホモ2</title>
	<meta property="og:title" content="ホモ2">
	<meta property="og:type" content="article">
	<meta property="og:image" content="https://utzmie.github.io/gay-video-test/video-2/ogp.jpg">
	<meta property="og:url" content="https://utzmie.github.io/gay-video-test/video-2/">
	<meta property="og:description" content="HTML5(canvas)でmp4動画を描画するテスト">
	<meta property="og:site_name" content="ホモ2">
	<meta property="og:locale" content="ja_JP">
	<meta name="twitter:card" content="summary">
	<meta name="twitter:title" content="ホモ2">
	<meta name="twitter:description" content="HTML5(canvas)でmp4動画を描画するテスト">
	<meta name="twitter:image" content="https://utzmie.github.io/gay-video-test/video-2/ogp.jpg">
	<link rel="stylesheet" href="../style.css">
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-WKMH9W');</script>
	<!-- End Google Tag Manager -->
</head>
<body>
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WKMH9W"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
	<div class="container">
		<h1>HTML5 &lt;video&gt;の動画をcanvas要素に描画2</h1>

		<h2>video</h2>
		<video id="gay" muted autoplay loop controls width="480" height="270">
			<source src="../gay.mp4">
		</video>

		<h2>canvas</h2>
		<p>Videoの再生位置が変更されるごとに描画し直す。カクカク。</p>
		<canvas id="canvas" width="480" height="270" ></canvas>

		<p class="pagination">
			<a href="../video-1/">前へ</a>
			<a href="../video-3/">次へ</a>
		</p>

		<p><a href="../">HOMO</a></p>
	</div><!-- /container -->

	<script>
		var video  = document.getElementById('gay');
		var canvas = document.getElementById('canvas');
		var context = canvas.getContext("2d");

		play();

		function play() {	
			video.addEventListener('timeupdate', function() {
				context.drawImage(video, 0, 0, 480, 270);
			}, true);
		}

	</script>
</body>
</html>